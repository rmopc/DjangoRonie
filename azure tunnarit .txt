SQL-serverin tiedot:
nwdemoserver.database.windows.net
adminronie
1careeria2!

Azuren NW-demo appi:
https://webappdemoronie.azurewebsites.net

tuotedemoronie.database.windows.net
YLLÄOLEVAT EI TOIMII ENÄÄ, poistettu azuresta jo...
YLLÄOLEVAT TUSKIN TOIMII ENÄÄ, poistettu azuresta jo...
YLLÄOLEVAT TUSKIN TOIMII ENÄÄ, poistettu azuresta jo...
YLLÄOLEVAT TUSKIN TOIMII ENÄÄ, poistettu azuresta jo...
YLLÄOLEVAT TUSKIN TOIMII ENÄÄ, poistettu azuresta jo...


Käyttäjätunnus kuitenkin pidetty samana kaikkiin:

adminronie
1careeria2!

  "connectionString": "postgresql://adminronie:1careeria2!@ronie-django-db.postgres.database.azure.com/postgres?sslmode=require",
  "databaseName": "flexibleserverdb",
  "host": "ronie-django-db.postgres.database.azure.com",
  "id": "/subscriptions/bfb96fc3-59ed-43e9-a7e0-b1a5afa35c29/resourceGroups/django-resource/providers/Microsoft.DBforPostgreSQL/flexibleServers/ronie-django-db",
  "location": "North Europe",
  "password": "1careeria2!",
  "resourceGroup": "django-resource",
  "skuname": "Standard_B1ms",
  "username": "adminronie",
  "version": "13"

Tähän jäätiin:
https://docs.microsoft.com/en-us/azure/app-service/tutorial-python-postgresql-app?tabs=flask%2Cwindows%2Cazure-cli%2Cterminal-powershell%2Cazure-portal-access%2Cvscode-aztools-deploy%2Cdeploy-instructions-azportal%2Cdeploy-instructions--zip-azcli%2Cdeploy-instructions-curl-bash

Jatkoa 16.6:

  "administratorLogin": "adminronie",
  "administratorLoginPassword": null,
  "availabilityZone": "1",
  "backup": {
    "backupRetentionDays": 7,
    "earliestRestoreDate": "2022-06-09T12:27:43.020315+00:00",
    "geoRedundantBackup": "Disabled"
  },
  "createMode": null,
  "fullyQualifiedDomainName": "ronie-django-db.postgres.database.azure.com",
  "highAvailability": {
    "mode": "Disabled",
    "standbyAvailabilityZone": null,
    "state": "NotEnabled"
  },
  "id": "/subscriptions/bfb96fc3-59ed-43e9-a7e0-b1a5afa35c29/resourceGroups/django-resource/providers/Microsoft.DBforPostgreSQL/flexibleServers/ronie-django-db",
  "location": "North Europe",
  "maintenanceWindow": {
    "customWindow": "Disabled",
    "dayOfWeek": 0,
    "startHour": 0,
    "startMinute": 0
  },
  "minorVersion": "6",
  "name": "ronie-django-db",
  "network": {
    "delegatedSubnetResourceId": null,
    "privateDnsZoneArmResourceId": null,
    "publicNetworkAccess": "Enabled"
  },
  "pointInTimeUtc": null,
  "resourceGroup": "django-resource",
  "sku": {
    "name": "Standard_B1ms",
    "tier": "Burstable"
  },
  "sourceServerResourceId": null,
  "state": "Ready",
  "storage": {
    "storageSizeGb": 128
  },
  "systemData": null,
  "tags": null,
  "tagsPropertiesTags": null,
  "type": "Microsoft.DBforPostgreSQL/flexibleServers",
  "version": "13"


------

TÄSTÄ VIELÄ PASTE POWERSHELLISTÄ

Windows PowerShell
Copyright (C) Microsoft Corporation. All rights reserved.

Try the new cross-platform PowerShell https://aka.ms/pscore6

PS C:\Users\ronie> cd C:\Users\ronie\Documents\Careeria\VS projektit\DjangoRonie
Set-Location : A positional parameter cannot be found that accepts argument 'projektit\DjangoRonie'.
At line:1 char:1
+ cd C:\Users\ronie\Documents\Careeria\VS projektit\DjangoRonie
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidArgument: (:) [Set-Location], ParameterBindingException
    + FullyQualifiedErrorId : PositionalParameterNotFound,Microsoft.PowerShell.Commands.SetLocationCommand

PS C:\Users\ronie> cd documents
PS C:\Users\ronie\documents> cd careeria
PS C:\Users\ronie\documents\careeria> cd vs projektit
Set-Location : A positional parameter cannot be found that accepts argument 'projektit'.
At line:1 char:1
+ cd vs projektit
+ ~~~~~~~~~~~~~~~
    + CategoryInfo          : InvalidArgument: (:) [Set-Location], ParameterBindingException
    + FullyQualifiedErrorId : PositionalParameterNotFound,Microsoft.PowerShell.Commands.SetLocationCommand

PS C:\Users\ronie\documents\careeria> cd vs_projektit
cd : Cannot find path 'C:\Users\ronie\documents\careeria\vs_projektit' because it does not exist.
At line:1 char:1
+ cd vs_projektit
+ ~~~~~~~~~~~~~~~
    + CategoryInfo          : ObjectNotFound: (C:\Users\ronie\...ia\vs_projektit:String) [Set-Location], ItemNotFoundE
   xception
    + FullyQualifiedErrorId : PathNotFound,Microsoft.PowerShell.Commands.SetLocationCommand

PS C:\Users\ronie\documents\careeria> cd {vs projektit}
Set-Location : Cannot evaluate parameter 'Path' because its argument is specified as a script block and there is no
input. A script block cannot be evaluated without input.
At line:1 char:4
+ cd {vs projektit}
+    ~~~~~~~~~~~~~~
    + CategoryInfo          : MetadataError: (:) [Set-Location], ParameterBindingException
    + FullyQualifiedErrorId : ScriptBlockArgumentNoInput,Microsoft.PowerShell.Commands.SetLocationCommand

PS C:\Users\ronie\documents\careeria> cd <vs projektit>
At line:1 char:4
+ cd <vs projektit>
+    ~
The '<' operator is reserved for future use.
    + CategoryInfo          : ParserError: (:) [], ParentContainsErrorRecordException
    + FullyQualifiedErrorId : RedirectionNotSupported

PS C:\Users\ronie\documents\careeria> cd '.\VS projektit\'
PS C:\Users\ronie\documents\careeria\VS projektit> ls


    Directory: C:\Users\ronie\documents\careeria\VS projektit


Mode                 LastWriteTime         Length Name
----                 -------------         ------ ----
d-----         17-Feb-22     14:30                BACKUP
d-----         22-Nov-21     11:25                DbConsoleApp
d-----         09-Jun-22     15:06                DjangoRonie
d-----         20-May-22     12:33                MuistioLamppu
d-----         01-Apr-22      9:58                NorthwindRestApi
d-----         22-Nov-21     16:00                NorthwindWpfDemo
d-----         02-Feb-22     11:52                pakatut projektit
d-----         04-May-22     23:00                reactkurssiapp
d-----         06-May-22      9:02                TestiXamarin
d-----         06-May-22     11:05                TimesheetBackend
d-----         06-May-22     11:16                TimesheetMobileApp
d-----         20-Dec-21     14:26                WebAppEkaMVC
d-----         17-Feb-22     14:32                WebAppTuotteetMVC2
d-----         13-Dec-21     16:20                WpfTilausApp
-a----         13-Apr-22     13:24            202 azure linkki.txt
-a----         09-Jun-22     15:05           1441 azure tunnarit .txt
-a----         31-Mar-22      9:51            925 johannan hakukoodi.txt
-a----         07-Apr-22     12:36        5507713 NorthwindRestApi.rar
-a----         07-Dec-21     18:15             82 SQL linkit.txt
-a----         10-Dec-21     10:18            834 temp tietokanta kurssi.txt
-a----         13-Apr-22     13:23      116629926 WebAppTuotteetMVC2.rar


PS C:\Users\ronie\documents\careeria\VS projektit> az login
A web browser has been opened at https://login.microsoftonline.com/organizations/oauth2/v2.0/authorize. Please continue the login in the web browser. If no web browser is available or if the web browser fails to open, use device code flow with `az login --use-device-code`.
[
  {
    "cloudName": "AzureCloud",
    "homeTenantId": "0992c7f7-c210-47c4-909e-f112d9f907a0",
    "id": "bfb96fc3-59ed-43e9-a7e0-b1a5afa35c29",
    "isDefault": true,
    "managedByTenants": [],
    "name": "Visual Studio Professional Subscription",
    "state": "Enabled",
    "tenantId": "0992c7f7-c210-47c4-909e-f112d9f907a0",
    "user": {
      "name": "ronie.oljemark@student.careeria.fi",
      "type": "user"
    }
  }
]
PS C:\Users\ronie\documents\careeria\VS projektit> $RESOURCE_GROUP_NAME='django-resource'
PS C:\Users\ronie\documents\careeria\VS projektit> $LOCATION='northeurope'
PS C:\Users\ronie\documents\careeria\VS projektit> ronie-django-db
ronie-django-db : The term 'ronie-django-db' is not recognized as the name of a cmdlet, function, script file, or
operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try
again.
At line:1 char:1
+ ronie-django-db
+ ~~~~~~~~~~~~~~~
    + CategoryInfo          : ObjectNotFound: (ronie-django-db:String) [], CommandNotFoundException
    + FullyQualifiedErrorId : CommandNotFoundException

PS C:\Users\ronie\documents\careeria\VS projektit> $DB_SERVER_NAME 'ronie-django-db'
At line:1 char:17
+ $DB_SERVER_NAME 'ronie-django-db'
+                 ~~~~~~~~~~~~~~~~~
Unexpected token ''ronie-django-db'' in expression or statement.
    + CategoryInfo          : ParserError: (:) [], ParentContainsErrorRecordException
    + FullyQualifiedErrorId : UnexpectedToken

PS C:\Users\ronie\documents\careeria\VS projektit> $DB_SERVER_NAME='ronie-django-db'
PS C:\Users\ronie\documents\careeria\VS projektit> $DB_NAME='flexibleserverdb'
PS C:\Users\ronie\documents\careeria\VS projektit> az postgres flexible-server show `
>>    --name $DB_SERVER_NAME `
>>    --resource-group $RESOURCE_GROUP_NAME
{
  "administratorLogin": "adminronie",
  "administratorLoginPassword": null,
  "availabilityZone": "1",
  "backup": {
    "backupRetentionDays": 7,
    "earliestRestoreDate": "2022-06-09T12:27:43.020315+00:00",
    "geoRedundantBackup": "Disabled"
  },
  "createMode": null,
  "fullyQualifiedDomainName": "ronie-django-db.postgres.database.azure.com",
  "highAvailability": {
    "mode": "Disabled",
    "standbyAvailabilityZone": null,
    "state": "NotEnabled"
  },
  "id": "/subscriptions/bfb96fc3-59ed-43e9-a7e0-b1a5afa35c29/resourceGroups/django-resource/providers/Microsoft.DBforPostgreSQL/flexibleServers/ronie-django-db",
  "location": "North Europe",
  "maintenanceWindow": {
    "customWindow": "Disabled",
    "dayOfWeek": 0,
    "startHour": 0,
    "startMinute": 0
  },
  "minorVersion": "6",
  "name": "ronie-django-db",
  "network": {
    "delegatedSubnetResourceId": null,
    "privateDnsZoneArmResourceId": null,
    "publicNetworkAccess": "Enabled"
  },
  "pointInTimeUtc": null,
  "resourceGroup": "django-resource",
  "sku": {
    "name": "Standard_B1ms",
    "tier": "Burstable"
  },
  "sourceServerResourceId": null,
  "state": "Ready",
  "storage": {
    "storageSizeGb": 128
  },
  "systemData": null,
  "tags": null,
  "tagsPropertiesTags": null,
  "type": "Microsoft.DBforPostgreSQL/flexibleServers",
  "version": "13"
}
PS C:\Users\ronie\documents\careeria\VS projektit> az webapp config appsettings set `
>>    --resource-group $RESOURCE_GROUP_NAME `
>>    --name ronie-django-python-webapp `
>>    --settings DBHOST=$DB_SERVER_NAME DBNAME=suppliers DBUSER=adminronie DBPASS=1careeria2!
[
  {
    "name": "DBHOST",
    "slotSetting": false,
    "value": "ronie-django-db"
  },
  {
    "name": "DBNAME",
    "slotSetting": false,
    "value": "suppliers"
  },
  {
    "name": "DBUSER",
    "slotSetting": false,
    "value": "adminronie"
  },
  {
    "name": "DBPASS",
    "slotSetting": false,
    "value": "1careeria2!"
  }
]
PS C:\Users\ronie\documents\careeria\VS projektit> az webapp config appsettings set `
>>     --resource-group $RESOURCE_GROUP_NAME `
>>     --name ronie-django-python-webapp `
>>     --settings SCM_DO_BUILD_DURING_DEPLOYMENT=true
[
  {
    "name": "DBHOST",
    "slotSetting": false,
    "value": "ronie-django-db"
  },
  {
    "name": "DBNAME",
    "slotSetting": false,
    "value": "suppliers"
  },
  {
    "name": "DBUSER",
    "slotSetting": false,
    "value": "adminronie"
  },
  {
    "name": "DBPASS",
    "slotSetting": false,
    "value": "1careeria2!"
  },
  {
    "name": "SCM_DO_BUILD_DURING_DEPLOYMENT",
    "slotSetting": false,
    "value": "true"
  }
]
PS C:\Users\ronie\documents\careeria\VS projektit> az webapp deploy `
>>     --name ronie-django-python-webapp `
>>     --resource-group $RESOURCE_GROUP_NAME  `
>>     --src-path ./djangopublish.zip `
>>     --type zip
This command is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus
{
  "active": true,
  "author": "N/A",
  "author_email": "N/A",
  "build_summary": {
    "errors": [],
    "warnings": []
  },
  "complete": true,
  "deployer": "OneDeploy",
  "end_time": "2022-06-16T08:43:38.8523972Z",
  "id": "8a945a9c-b0e0-4790-9222-bbbaf71bc241",
  "is_readonly": true,
  "is_temp": false,
  "last_success_end_time": "2022-06-16T08:43:38.8523972Z",
  "log_url": "https://ronie-django-python-webapp.scm.azurewebsites.net/api/deployments/latest/log",
  "message": "OneDeploy",
  "progress": "",
  "received_time": "2022-06-16T08:42:38.0058967Z",
  "site_name": "ronie-django-python-webapp",
  "start_time": "2022-06-16T08:42:39.2223683Z",
  "status": 4,
  "status_text": "",
  "url": "https://ronie-django-python-webapp.scm.azurewebsites.net/api/deployments/latest"
}
PS C:\Users\ronie\documents\careeria\VS projektit> az webapp ssh --resource-group $RESOURCE_GROUP_NAME `
>>               --name ronie-django-python-webapp
This command is in preview and under development. Reference and support levels: https://aka.ms/CLI_refstatus
PS C:\Users\ronie\documents\careeria\VS projektit>
}